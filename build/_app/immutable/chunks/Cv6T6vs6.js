import{S as D,T as J,U as Q,V as m,W as k,g as P,X as c,Y as y,Z as L,E as F,_ as p,P as ee,G as ae,j as V,$ as z,k as A,a0 as re,a1 as ne,n as te,s as M,a2 as j,C as Y,a3 as q,v as W,o as X,a4 as fe,a5 as ie,a6 as se,I as ue,a7 as le,a8 as _e,a9 as ve,aa as G,ab as de,b as Z,f as $,ac as ce,ad as oe,ae as be,af as ge,ag as he,ah as ye}from"./DN_0H_Y-.js";function S(f,s=null,o){if(typeof f!="object"||f===null||D in f)return f;const _=ee(f);if(_!==J&&_!==Q)return f;var n=new Map,l=ae(f),b=m(0);l&&n.set("length",m(f.length));var h;return new Proxy(f,{defineProperty(i,e,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&p();var t=n.get(e);return t===void 0?(t=m(a.value),n.set(e,t)):y(t,S(a.value,h)),!0},deleteProperty(i,e){var a=n.get(e);if(a===void 0)e in i&&n.set(e,m(c));else{if(l&&typeof e=="string"){var t=n.get("length"),r=Number(e);Number.isInteger(r)&&r<t.v&&y(t,r)}y(a,c),H(b)}return!0},get(i,e,a){var d;if(e===D)return f;var t=n.get(e),r=e in i;if(t===void 0&&(!r||(d=L(i,e))!=null&&d.writable)&&(t=m(S(r?i[e]:c,h)),n.set(e,t)),t!==void 0){var u=P(t);return u===c?void 0:u}return Reflect.get(i,e,a)},getOwnPropertyDescriptor(i,e){var a=Reflect.getOwnPropertyDescriptor(i,e);if(a&&"value"in a){var t=n.get(e);t&&(a.value=P(t))}else if(a===void 0){var r=n.get(e),u=r==null?void 0:r.v;if(r!==void 0&&u!==c)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return a},has(i,e){var u;if(e===D)return!0;var a=n.get(e),t=a!==void 0&&a.v!==c||Reflect.has(i,e);if(a!==void 0||F!==null&&(!t||(u=L(i,e))!=null&&u.writable)){a===void 0&&(a=m(t?S(i[e],h):c),n.set(e,a));var r=P(a);if(r===c)return!1}return t},set(i,e,a,t){var R;var r=n.get(e),u=e in i;if(l&&e==="length")for(var d=a;d<r.v;d+=1){var E=n.get(d+"");E!==void 0?y(E,c):d in i&&(E=m(c),n.set(d+"",E))}r===void 0?(!u||(R=L(i,e))!=null&&R.writable)&&(r=m(void 0),y(r,S(a,h)),n.set(e,r)):(u=r.v!==c,y(r,S(a,h)));var g=Reflect.getOwnPropertyDescriptor(i,e);if(g!=null&&g.set&&g.set.call(t,a),!u){if(l&&typeof e=="string"){var w=n.get("length"),T=Number(e);Number.isInteger(T)&&T>=w.v&&y(w,T+1)}H(b)}return!0},ownKeys(i){P(b);var e=Reflect.ownKeys(i).filter(r=>{var u=n.get(r);return u===void 0||u.v!==c});for(var[a,t]of n)t.v!==c&&!(a in i)&&e.push(a);return e},setPrototypeOf(){k()}})}function H(f,s=1){y(f,f.v+s)}function Ee(f,s,o=!1){A&&W();var _=f,n=null,l=null,b=c,h=o?z:0,i=!1;const e=(t,r=!0)=>{i=!0,a(r,t)},a=(t,r)=>{if(b===(b=t))return;let u=!1;if(A){const d=_.data===re;!!b===d&&(_=ne(),te(_),M(!1),u=!0)}b?(n?j(n):r&&(n=Y(()=>r(_))),l&&q(l,()=>{l=null})):(l?j(l):r&&(l=Y(()=>r(_))),n&&q(n,()=>{n=null})),u&&M(!0)};V(()=>{i=!1,s(e),i||a(null,null)},h),A&&(_=X)}function Re(f,s,o){A&&W();var _=f,n,l;V(()=>{n!==(n=s())&&(l&&(q(l),l=null),n&&(l=Y(()=>o(_,n))))},z),A&&(_=X)}let N=!1;function Pe(f){var s=N;try{return N=!1,[f(),N]}finally{N=s}}function K(f){for(var s=F,o=F;s!==null&&!(s.f&(_e|ve));)s=s.parent;try{return G(s),f()}finally{G(o)}}function Ie(f,s,o,_){var U;var n=(o&ye)!==0,l=!ue||(o&le)!==0,b=(o&de)!==0,h=(o&he)!==0,i=!1,e;b?[e,i]=Pe(()=>f[s]):e=f[s];var a=D in f||se in f,t=b&&(((U=L(f,s))==null?void 0:U.set)??(a&&s in f&&(v=>f[s]=v)))||void 0,r=_,u=!0,d=!1,E=()=>(d=!0,u&&(u=!1,h?r=Z(_):r=_),r);e===void 0&&_!==void 0&&(t&&l&&fe(),e=E(),t&&t(e));var g;if(l)g=()=>{var v=f[s];return v===void 0?E():(u=!0,d=!1,v)};else{var w=K(()=>(n?$:ce)(()=>f[s]));w.f|=ie,g=()=>{var v=P(w);return v!==void 0&&(r=void 0),v===void 0?r:v}}if(!(o&oe))return g;if(t){var T=f.$$legacy;return function(v,I){return arguments.length>0?((!l||!I||T||i)&&t(I?g():v),v):g()}}var R=!1,B=!1,x=be(e),O=K(()=>$(()=>{var v=g(),I=P(x);return R?(R=!1,B=!0,I):(B=!1,x.v=v)}));return n||(O.equals=ge),function(v,I){if(arguments.length>0){const C=I?P(O):l&&b?S(v):v;return O.equals(C)||(R=!0,y(x,C),d&&r!==void 0&&(r=C),Z(()=>P(O))),v}return P(O)}}export{S as a,Re as c,Ee as i,Ie as p};
